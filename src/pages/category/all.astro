---
import Cards from "@/components/Cards.astro";
import CategoryTab from "@/components/CategoryTab.astro";
import Title from "@/components/Title.astro";
import Layout from "@/layouts/Layout.astro";
import { getCategories, getWorks } from "@/libs/microcms";

const categories = await getCategories({
  limit: 100,
});

const works = await getWorks({
  fields: ["id", "title", "description", "images"],
  orders: "-createdAt",
  limit: 100,
});
---

<Layout title="all">
  <Title title="works" />
  <CategoryTab current="all" contents={categories.contents} />
  <Cards contents={works.contents} />
</Layout>
